{"version":3,"sources":["redux/appReducer.js","redux/booksReducer.js","redux/queryInputReducer.js","redux/store.js","d:/google-books/src/redux/types.js","redux/types.js","app/styledComponents/filter.js","app/components/mainHeader.jsx","redux/actions.js","app/components/common/pagination.jsx","app/components/bookCard.jsx","app/appContainer.jsx","app/utils/paginate.js","app/App.jsx","index.js"],"names":["initialState","loading","books","query","rootReducer","combineReducers","state","action","type","concat","payload","loader","store","createStore","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","Filter","styled","div","MainHeader","dispatch","useDispatch","useSelector","className","style","zIndex","width","InputGroup","size","Input","placeholder","value","onChange","e","text","target","console","log","Button","color","onClick","a","fetch","response","ok","Error","json","data","items","getBooks","Pagination","itemsCount","pageSize","onPageChange","currentPage","pagesCount","Math","ceil","pages","_","range","map","page","cursor","key","BookCard","thumbnail","title","pageCount","language","description","authors","publisher","previewLink","infoLink","useState","modal","setModal","toggle","Card","CardImg","top","height","src","alt","CardBody","CardTitle","Modal","isOpen","id","aria-label","aria-hidden","href","rel","AppContainer","cards","setCurrentPage","useEffect","cardsCrop","pageNumber","startIndex","slice","take","paginate","Spinner","item","i","volumeInfo","imageLinks","handleCards","length","pageIndex","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f364b4fc.chunk.js","sourcesContent":["import { SHOW_LOADER, HIDE_LOADER } from \"./types\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n};\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SHOW_LOADER:\r\n      return { ...state, loading: true };\r\n    case HIDE_LOADER:\r\n      return { ...state, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCHED_BOOKS } from \"d:/google-books/src/redux/types\";\r\n\r\nconst initialState = {\r\n  books: [],\r\n};\r\n\r\nexport const booksReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCHED_BOOKS:\r\n      return { books: state.books.concat(action.payload) };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { ADD_QUERY_INPUT } from \"./types\";\r\n\r\nconst initialState = {\r\n  query: \"\",\r\n};\r\n\r\nexport const queryInputReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_QUERY_INPUT:\r\n      return { ...state, query: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { appReducer } from \"./appReducer\";\r\nimport { booksReducer } from \"./booksReducer\";\r\nimport { queryInputReducer } from \"./queryInputReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  books: booksReducer,\r\n  query: queryInputReducer,\r\n  loader: appReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  compose(\r\n    applyMiddleware(thunk),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n","export const FETCHED_BOOKS = \"FETCHED_BOOKS\";\r\nexport const ADD_QUERY_INPUT = \"ADD_QUERY_INPUT\";\r\nexport const SHOW_LOADER = \"SHOW_LOADER\";\r\nexport const HIDE_LOADER = \"HIDE_LOADER\";\r\n","export const FETCHED_BOOKS = \"FETCHED_BOOKS\";\r\nexport const ADD_QUERY_INPUT = \"ADD_QUERY_INPUT\";\r\nexport const SHOW_LOADER = \"SHOW_LOADER\";\r\nexport const HIDE_LOADER = \"HIDE_LOADER\";\r\n","import styled from \"styled-components\";\r\n\r\nexport const Filter = styled.div`\r\n  &:after {\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    content: \"\";\r\n    display: block;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    position: absolute;\r\n    width: 100%;\r\n    z-index: 1;\r\n  }\r\n`;\r\n","import React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { InputGroup, Input, Button } from \"reactstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { createQuery, getBooks } from \"../../redux/actions\";\nimport { Filter } from \"../styledComponents/filter\";\n\nconst MainHeader = () => {\n  const dispatch = useDispatch();\n  const query = useSelector((state) => state.query.query);\n\n  return (\n    <div className=\"main-image d-flex justify-content-center align-items-center flex-column\">\n      <Filter />\n      <h1\n        className=\"display-2 text-center text-white mb-3\"\n        style={{ zIndex: 2 }}\n      >\n        Google Books\n      </h1>\n      <div style={{ width: \"60%\", zIndex: 2 }}>\n        <InputGroup size=\"lg\" className=\"mb-3\">\n          <Input\n            placeholder=\"Book Search\"\n            value={query}\n            onChange={(e) => dispatch(createQuery(e.target.value))}\n          />\n          <Button\n            className=\"button\"\n            color=\"secondary\"\n            onClick={() => dispatch(getBooks(query))}\n          >\n            <i className=\"fas fa-search\"></i>\n          </Button>\n        </InputGroup>\n      </div>\n      <ToastContainer />\n    </div>\n  );\n};\n\nexport default MainHeader;\n","import { ADD_QUERY_INPUT, FETCHED_BOOKS } from \"./types\";\r\nimport { HIDE_LOADER, SHOW_LOADER } from \"d:/google-books/src/redux/types\";\r\n\r\nexport function createQuery(text) {\r\n  console.log(text);\r\n  return {\r\n    type: ADD_QUERY_INPUT,\r\n    payload: text,\r\n  };\r\n}\r\n\r\nexport function showLoader() {\r\n  return {\r\n    type: SHOW_LOADER,\r\n  };\r\n}\r\n\r\nexport function hideLoader() {\r\n  return {\r\n    type: HIDE_LOADER,\r\n  };\r\n}\r\n\r\nexport function getBooks(query) {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoader());\r\n      const response = await fetch(\r\n        `https://www.googleapis.com/books/v1/volumes?q=${query}&maxResults=40&startIndex=1`\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Ошибка запроса\");\r\n      }\r\n      const data = await response.json();\r\n\r\n      dispatch({ type: FETCHED_BOOKS, payload: data.items });\r\n      dispatch(hideLoader());\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n}\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\nconst Pagination = ({ itemsCount, pageSize, onPageChange, currentPage }) => {\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  const pages = _.range(1, pagesCount + 1);\n\n  if (pagesCount === 1) return null;\n  return (\n    <nav>\n      <ul className=\"pagination\">\n        {pages.map((page) => (\n          <li\n            style={{ cursor: \"pointer\" }}\n            key={page}\n            className={\"page-item \" + (page === currentPage ? \"active\" : \"\")}\n          >\n            <a\n              className=\"page-link\"\n              onClick={() => {\n                onPageChange(page);\n              }}\n            >\n              {page}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\nPagination.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n","import React, { useState } from \"react\";\nimport { Card, CardTitle, CardImg, CardBody, Button, Modal } from \"reactstrap\";\nconst BookCard = ({\n  thumbnail,\n  title,\n  pageCount,\n  language,\n  description,\n  authors,\n  publisher,\n  previewLink,\n  infoLink,\n}) => {\n  // States\n  const [modal, setModal] = useState(false);\n  const toggle = () => setModal(!modal);\n\n  return (\n    <Card style={{ width: \"233px\" }} className=\"m-auto \">\n      <CardImg\n        top\n        style={{ width: \"100%\", height: \"233px\" }}\n        src={thumbnail}\n        alt={title}\n      />\n      <CardBody>\n        <CardTitle className=\"card-title\">{title}</CardTitle>\n        <Button onClick={toggle}>More info</Button>\n      </CardBody>\n      <Modal isOpen={modal} toggle={toggle}>\n        <div className=\"modal-header d-flex justify-content-center\">\n          <h5 className=\"modal-title text-center\" id=\"exampleModalLabel\">\n            {title}\n          </h5>\n          <button\n            aria-label=\"Close\"\n            className=\"close\"\n            type=\"button\"\n            onClick={toggle}\n          >\n            <span aria-hidden={true}>X</span>\n          </button>\n        </div>\n        <div className=\"modal-body\">\n          <div className=\"d-flex justify-content-between ml-3\">\n            <img src={thumbnail} alt={title} style={{ height: \"233px\" }} />\n            <div>\n              <p>Page Count: {pageCount}</p>\n              <p>Language : {language}</p>\n              <p>Authors : {authors}</p>\n              <p>Publisher : {publisher}</p>\n            </div>\n          </div>\n          <div className=\"mt-3\">{description}</div>\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"left-silde\">\n            <a\n              href={previewLink}\n              className=\"btn-link\"\n              color=\"default\"\n              type=\"button\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Preview Link\n            </a>\n          </div>\n          <div className=\"divider\"></div>\n          <div className=\"right-silde\">\n            <a\n              href={infoLink}\n              className=\"btn-link\"\n              color=\"default\"\n              type=\"button\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Info Link\n            </a>\n          </div>\n        </div>\n      </Modal>\n    </Card>\n  );\n};\n\nexport default BookCard;\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\nimport { Spinner } from \"reactstrap\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport MainHeader from \"./components/mainHeader\";\r\nimport Pagination from \"./components/common/pagination\";\r\nimport { paginate } from \"./utils/paginate\";\r\nimport BookCard from \"./components/bookCard\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction AppContainer() {\r\n  // States\r\n\r\n  const cards = useSelector((state) => state.books.books);\r\n  const loading = useSelector((state) => state.loader.loading);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const pageSize = 9;\r\n  const handlePageChange = (pageIndex) => {\r\n    setCurrentPage(pageIndex);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [cards]);\r\n\r\n  // Handle Search\r\n\r\n  const cardsCrop = paginate(cards, currentPage, pageSize);\r\n\r\n  const handleCards = () => {\r\n    if (loading) {\r\n      return (\r\n        <div className=\"d-flex justify-content-center mt-3\">\r\n          <Spinner style={{ width: \"3rem\", height: \"3rem\" }} />\r\n        </div>\r\n      );\r\n    } else {\r\n      const items = cardsCrop.map((item, i) => {\r\n        let thumbnail = \"\";\r\n        if (item.volumeInfo.imageLinks) {\r\n          thumbnail = item.volumeInfo.imageLinks.thumbnail;\r\n        }\r\n        return (\r\n          <div className=\"col-lg-4 mb-3\" key={item.id}>\r\n            <BookCard\r\n              thumbnail={thumbnail}\r\n              title={item.volumeInfo.title}\r\n              pageCount={item.volumeInfo.pageCount}\r\n              language={item.volumeInfo.language}\r\n              authors={item.volumeInfo.authors}\r\n              publisher={item.volumeInfo.publisher}\r\n              description={item.volumeInfo.description}\r\n              previewLink={item.volumeInfo.previewLink}\r\n              infoLink={item.volumeInfo.infoLink}\r\n            />\r\n          </div>\r\n        );\r\n      });\r\n      return (\r\n        <div className=\"container my-5\">\r\n          <div className=\"row\">{items}</div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"w-100 h-100\">\r\n        <MainHeader />\r\n        {handleCards()}\r\n        <div className=\"d-flex justify-content-center\">\r\n          <Pagination\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            itemsCount={cards.length}\r\n            onPageChange={handlePageChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AppContainer;\r\n","import _ from \"lodash\";\n\nexport function paginate(items, pageNumber, pageSize) {\n  const startIndex = (pageNumber - 1) * pageSize;\n  return _(items).slice(startIndex).take(pageSize).value();\n}\n","import React from \"react\";\nimport AppContainer from \"./appContainer\";\n\nconst App = () => {\n  return <AppContainer />;\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux/store\";\nimport App from \"../src/app/App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}